#include <stdio.h>
#include <stdlib.h>
#include <math.h>
#include <string.h>

/* run this program using the console pauser or add your own getch, system("pause") or input loop */
void Bai1(){
	printf("Nhap 3 so x,y,z de tinh F\n");
                float x,y,z,F;
                scanf("%f%f%f",&x,&y,&z);
                F = (5*x+2*y+3*z)/(x*x+y*y+4)+abs(x+y*sin(z));
                printf("F = %f",F);
        printf("\n");
}


void sap_xep_mang_nguyen(int a[], int n)
{
    int i,j,tmp;
    for(i = 0;i < n;i++){
        for(j = i+1;j < n;j++){
            if(a[j] < a[i]){
                tmp = a[i];
                a[i] = a[j];
                a[j] = tmp;
            }
        }
    }
}
void Bai2(){

               printf("Nhap vao n so nguyen, sap xep tang dan, dua ra tong cac so duong, tong am, so gia tri = 0\n");
                int n;
                scanf("%d",&n);
                int a[n+1],b[n+1],c[n+1]; //b[]: mang duong; c[]: mang am
                printf("Nhap vao n so nguyen\n");
                int i,tmpduong = 0, tmpam = 0,coutn = 0,tongduong = 0,tongam = 0; //coutn: so so 0
                for(i = 0; i < n; i++){
                    printf("a[%d] = ",i);
                    scanf("%d",&a[i]);
                    if(a[i] > 0){
                        b[tmpduong++] = a[i];
                    }
                    if(a[i] < 0){
                        c[tmpam++] = a[i];
                    }
                    if(a[i] == 0){
                        coutn++;
                    }
                    printf("\n");
                }
                sap_xep_mang_nguyen(a,n);
                // in mang
                printf("Mang sau khi sap xep la:\n");
                for(i = 0; i < n; i++){
                    printf("%3d", a[i]);
                }
                printf("\n");
                for(i = 0;i < tmpduong;i++){
                    tongduong += b[i];
                }
                for(i = 0;i < tmpduong;i++){
                    tongam += c[i];
                }
                if(tmpam == 0){
                    printf("Tong cac so am la: NULL\n");
                }
                else{
                    printf("Tong cac so am la: %d\n",tongam);
                }
                if(tmpduong == 0){
                    printf("Tong cac so duong la: NULL\n");
                }
                else{
                    printf("Tong cac so duong la: %d\n",tongduong);
                }
                printf("So gia tri bang 0 la: %d\n",coutn);


}
/*Bai 3*/
void sapxeptheoten(char dslop[1000][30], int n, float diem[100]){
	int i,j; char s[30];
	float x;
    for(i=0;i<n-1;i++)
      for(j=i+1;j<n;j++)
          if(strcmp(strrchr(dslop[i],' '),strrchr(dslop[j],' '))>0){
            strcpy(s,dslop[i]);
            strcpy(dslop[i],dslop[j]);
            strcpy(dslop[j],s);
            x= diem[i]; diem[i]=diem[j], diem[j] = x;
			}
}
void sapxeptheodiem(char dslop[1000][30], int n, float diem[100])
{
	int i,j; char s[30];
	float x;
    for(i=0;i<n-1;i++)
      for(j=i+1;j<n;j++)
          if(diem[i]<diem[j]){
            strcpy(s,dslop[i]);
            strcpy(dslop[i],dslop[j]);
            strcpy(dslop[j],s);
            x= diem[i]; diem[i]=diem[j], diem[j] = x;
			}
}
void inds(char dslop[1000][30], int n, float diem[100]){
	int i;
	printf("\n Danh sach sinh vien da sap xep la:\n");
    for(i=0;i<n;i++){
        printf("\n %d. %s %-5.1f",i+1, dslop[i], diem[i]);
        if(diem[i]>10) printf("   Xuat sac");
        else if(diem[i] >8) printf("    Gioi ");
        else if(diem[i]>6) printf("    Kha ");
        else if(diem[i]>4) printf(" Trung Binh");
        else if(diem[i]>0) printf("  Yeu");
	}
}
void bosung(char dslop[1000][30], int *n, float diem[100]){
	int k,i; char s[30];
	printf("\nnhap vao so sinh vien bo sung =");scanf("%d",&k);
	 for(i=0;i<k;i++){
	    printf("\n Nhap ten sinh vien bo sung thu %d :",i+1);
        dslop[*n+i][0]=' ';
        fflush(stdin);gets(s);strcat(dslop[*n+i],s);
        printf("\nNhap diem cua sinh vien bo sung thu %d: ", i+1);
        scanf("%f", &diem[*n+i]);
		}
	*n=*n+k;
}
void xoadanhsach(char dslop[1000][30], int *n, float diem[100]){
	int i;
	int stt;
	for(i=0;i<*n;i++){
        printf("\n %d. %s",i+1, dslop[i]);

	}
	printf(" Nhap so thu tu sinh vien muon xoa : ");
	scanf("%d",&stt);
	if(stt < 1 || stt > *n-1){
		printf(" Khong ton tai sinh vien ");
	}
	else{

		int k;
		for(k = stt-1; k<*n-1; k++){
			strcpy(dslop[k],dslop[k+1]);
			diem[k] = diem[k+1];
		}
		*n = *n - 1;
	}



}
void Bai3(){
		printf("Ho va ten : ten \n");
		printf("MSSV : mssv\n");
		char dslop[100][30],s[30];
    	int i,j,n,c;
    	float diem[100];
    	do {printf("\n Nhap vao so sinh vien n= ");
      		scanf("%d",&n);}
    while(n<=0||n>100);
    for(i=0;i<n;i++){
	    printf("\n Nhap ten sinh vien thu %d  :",i+1);
        dslop[i][0]=' ';
        fflush(stdin);gets(s);strcat(dslop[i],s);
        printf("Nhap vao diem cua sinh vien thu %d  :", i+1);
        scanf("%f", &diem[i]);
		}
do{
printf("\nBan muon lam gi tiep theo? Lua chon va nhan \n1. bo sung \n2. sap xep theo ten \n3. sap xep theo diem");
printf("\n4. in danh sach \n5. Xoa danh sach  \nBam phim khac de thoat     : ");
scanf("%d",&c);
switch(c){
	case 1:{
		bosung(dslop,&n, diem);
		break;
	}
	case 2:{
	    sapxeptheoten(dslop, n, diem);
		printf("\n da sap xep");
		break;
		}
	case 3:{
		sapxeptheodiem(dslop, n, diem);
		printf("\n da sap xep");
}
    case 4:{
		inds(dslop,n, diem);
		break;
	}
	case 5:{
		xoadanhsach(dslop,&n,diem);
		break;
	}

    default:{
	    char l;
	    printf("\nBan co thuc su muon thoat? nhan Y/y de thoat, nhan phim khac de tiep tuc ");
	    fflush(stdin);scanf("%c",&l);
	    if(l=='y'||l=='Y') ;else c=1;
	    break;
	    }
}
}while((c==1)||(c==2)||(c==3)||c==4||c==5);


}
int main(int argc, char *argv[]) {
	int sobai;
	char kiemtraxong ;
	while(kiemtraxong!= 'y' && kiemtraxong != 'Y'){
	printf(" ten - mssv \n ");
	printf("Bai 1 : Tinh F \n");
	printf(" Bai 2 : Sap xep mang nguyen, tong am, tong duong \n");
	printf(" Bai 3 : Danh sach sinh vien \n");
	printf(" Nhap stt bai : ");
	scanf("%d", &sobai);
	switch(sobai){
		case 1:
			Bai1();
			break;
		case 2:
			Bai2();
			break;
		case 3:
			Bai3();
			break;
	}
	printf(" Ban muon ket thuc khong ? Neu co nhap y hoac Y, neu khong nhan phim bat ki : ");
	fflush(stdin);
	scanf("%c",&kiemtraxong);
	}


}

